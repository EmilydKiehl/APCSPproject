<!DOCTYPE html>
<html lang="en">

  <head>
    <script src="jquery-3.3.1.min.js"></script>
    <meta charset=utf-8 />
    <title>Draw Squares</title>
  </head>

  <body>

    <canvas id="background" width="1200" height="700">
      This Browser Won't Show This...!!!
    </canvas>

    <script>
      function randomNumber(max) {
        return Math.floor(Math.random() * Math.floor(max));
      }

      var canvas;
      var c;

      function drawCanvas() {
        canvas = document.getElementById("background");
          
        c = canvas.getContext("2d");
        
        drawSquares();

        function drawSquares() {
          c.fillStyle = "white";
          c.fillRect(0, 0, canvas.width, canvas.height);
          for (var i = 0; i < 250; i++) {
            var x = Math.random() * canvas.width;
            var y = Math.random() * canvas.height;
            var colors = ["red", "orange", "yellow", "green", "blue", "purple", "pink", "black"];
            c.fillStyle = colors[randomNumber(7)];
            c.fillRect(x, y, randomNumber(200), randomNumber(200));
          }
        }
      };

			class Component {
      	constructor(width, height, color, x, y) {
        	this.width = width;
          this.height = height;
          this.speedX = 0;
          this.speedY = 0;
          this.x = x;
          this.y = y;
          this.color = color;
        }
        
        reDraw() {
          c.fillStyle = this.color;
          c.fillRect(this.x, this.y, this.width, this.height);
        }
        
        updatePos() {

            const speed = 5;
        
        	if (movingLeft) {
          	this.x -= speed;
          }
          
          if (movingRight) {
          	this.x += speed;
          }
          
          if (movingUp) {
          	this.y -= speed;
          }
          
          if (movingDown) {
          	this.y += speed;
          }
        }
      }

      function updateAndDraw() {
        	// Clear
          console.log('Drawing');
          
          c.fillStyle = "white";
          c.fillRect(this.x, this.y, this.width, this.height);
          
          object.updatePos();
          object.reDraw();
        }


      var object;
      
      var movingRight = false;
      var movingLeft = false;
      var movingUp = false;
      var movingDown = false;

      function startGame() {
        drawCanvas();


        object = new Component(30, 30, "black", 10, 120);
        
        setInterval(updateAndDraw, 100);
      }

     
      document.onkeydown = function(e) {
        switch (e.keyCode) {
          case 37:
            movingLeft = true;
            break;
          case 38:
            movingUp = true;
            break;
          case 39:
            movingRight = true;
            break;
          case 40:
            movingDown = true;
            break;
        }
      };
      
      document.onkeyup = function(e) {
        switch (e.keyCode) {
          case 37:
            movingLeft = false;
            break;
          case 38:
            movingUp = false;
            break;
          case 39:
            movingRight = false;
            break;
          case 40:
            movingDown = false;
            break;
        }
      };

      // Start the game
      startGame();

    </script>
	  <button onclick="drawCanvas()">Change the scene</button>
	  
  </body>

</html>
